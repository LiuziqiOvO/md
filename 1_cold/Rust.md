## env









## 1 basic

### 变量

Rust 是强类型语言，但具有自动判断变量类型的能力。这很容易让人与弱类型语言产生混淆。

```rust
let a = 123; 	
```

在这句声明语句之后，以下三行代码都是被禁止的：

```rust
a = "abc"; // a已经被确定为int
a = 4.56;  // 自动转换数字精度有损失，Rust 语言不允许精度有损失的自动数据类型转换。
a = 456;   //  a 不是个可变变量。
```

关于第三行：Rust 语言为了高并发安全而做的设计：在语言层面尽量少的让变量的值可以改变。所以 a 的值不可变。但这不意味着 a 不是"变量"（英文中的 variable），官方文档称 a 这种变量为"不可变变量"。



使变量变得"可变"（mutable）只需一个 **mut** 关键字。

```rust
let mut a = 123; // 可以编译，但可能有警告，因为该变量没有被使用
let a = 456;
```

> 关于不可变变量

变量的值可以"重新绑定"，但在"重新绑定"以前不能私自被改变

#### 重影（Shadowing）

重影就是刚才讲述的所谓"重新绑定"。重影是指用同一个名字重新代表另一个变量实体，其类型、可变属性和值都可以变化。但可变变量赋值仅能发生值的变化。

```rust
fn main() {
    let x = 5;
    let x = x + 1;
    let x = x * 2;
    println!("The value of x is: {}", x);
}
```

重影与可变变量的赋值不是一个概念，重影是指用同一个名字重新代表另一个变量实体，其类型、可变属性和值都可以变化。但可变变量赋值仅能发生值的变化。

#### 数据类型

浮点型：默认为64位浮点：因为现代计算机处理器对两种浮点数计算的速度几乎相同，但 64 位浮点数精度更高。

```rust
fn main() {
    let x = 2.0; // f64
    let y: f32 = 3.0; // f32
}
```

运算：支持+=，不支持++

布尔型：布尔型用 bool 表示，值只能为 true 或 false。

字符型：

Rust的 char 类型大小为 4 个字节，代表 Unicode标量值，这意味着它可以支持中文，日文和韩文字符等非英文字符甚至表情符号和零宽度空格在 Rust 中都是有效的 char 值。

**复合类型**

元组：（）

```rust
let tup: (i32, f64, u8) = (500, 6.4, 1);
// tup.0 等于 500
// tup.1 等于 6.4
// tup.2 等于 1
let (x, y, z) = tup;
// y 等于 6.4
```

数组：[ ]

### 函数

```rust
/// fn <函数名> ( <参数> ) <函数体>
fn main() {
    println!("Hello, world!");
    another_function();
}

/// 其中 Rust 函数名称的命名风格是小写字母以下划线分割：
fn another_function() {
    println!("Hello, runoob!");
}
```

Rust 函数名称的命名风格是小写字母以下划线分割。

Rust不在乎您在何处定义函数，只需在某个地方定义它们即可

> 函数体表达式

Rust 中可以在一个用 **{}** 包括的块里编写一个较为复杂的表达式：

```rust
    let y = {
        let x = 3;
        x + 1
        //注意：**x + 1** 之后没有分号，否则它将变成一条语句！
    };
```

>函数定义可以嵌套

### 控制流
